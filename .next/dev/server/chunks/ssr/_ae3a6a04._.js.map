{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rokat/OneDrive/Proyectos/ManayAcademy/src/actions/tags.ts"],"sourcesContent":["'use server'\r\n\r\nimport { prisma } from \"@/lib/prisma\"\r\nimport { revalidatePath } from \"next/cache\"\r\n\r\nexport async function createTag(tenantId: string, formData: FormData) {\r\n    const name = formData.get('name') as string\r\n\r\n    if (!name || name.trim() === '') {\r\n        return { error: 'Tag name is required' }\r\n    }\r\n\r\n    try {\r\n        await prisma.tag.create({\r\n            data: {\r\n                name: name.trim(),\r\n                tenantId\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.error('Failed to create tag:', error)\r\n        return { error: 'Failed to create tag. Name might already exist.' }\r\n    }\r\n\r\n    revalidatePath('/admin/tags')\r\n    revalidatePath('/admin/contacts') // Revalidate contacts as they use tags\r\n}\r\n\r\nexport async function deleteTag(tenantId: string, id: string) {\r\n    if (!id) return\r\n\r\n    try {\r\n        const existing = await prisma.tag.findUnique({ where: { id } })\r\n        if (!existing || existing.tenantId !== tenantId) {\r\n            return { error: 'Access denied' }\r\n        }\r\n\r\n        await prisma.tag.delete({\r\n            where: { id }\r\n        })\r\n    } catch (error) {\r\n        console.error('Failed to delete tag:', error)\r\n        return { error: 'Failed to delete tag.' }\r\n    }\r\n\r\n    revalidatePath('/admin/tags')\r\n    revalidatePath('/admin/contacts')\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;;;;;AAEO,eAAe,UAAU,QAAgB,EAAE,QAAkB;IAChE,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,IAAI,CAAC,QAAQ,KAAK,IAAI,OAAO,IAAI;QAC7B,OAAO;YAAE,OAAO;QAAuB;IAC3C;IAEA,IAAI;QACA,MAAM,8HAAM,CAAC,GAAG,CAAC,MAAM,CAAC;YACpB,MAAM;gBACF,MAAM,KAAK,IAAI;gBACf;YACJ;QACJ;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;YAAE,OAAO;QAAkD;IACtE;IAEA,IAAA,+IAAc,EAAC;IACf,IAAA,+IAAc,EAAC,oBAAmB,uCAAuC;AAC7E;AAEO,eAAe,UAAU,QAAgB,EAAE,EAAU;IACxD,IAAI,CAAC,IAAI;IAET,IAAI;QACA,MAAM,WAAW,MAAM,8HAAM,CAAC,GAAG,CAAC,UAAU,CAAC;YAAE,OAAO;gBAAE;YAAG;QAAE;QAC7D,IAAI,CAAC,YAAY,SAAS,QAAQ,KAAK,UAAU;YAC7C,OAAO;gBAAE,OAAO;YAAgB;QACpC;QAEA,MAAM,8HAAM,CAAC,GAAG,CAAC,MAAM,CAAC;YACpB,OAAO;gBAAE;YAAG;QAChB;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO;YAAE,OAAO;QAAwB;IAC5C;IAEA,IAAA,+IAAc,EAAC;IACf,IAAA,+IAAc,EAAC;AACnB;;;IA1CsB;IAuBA;;AAvBA,+OAAA;AAuBA,+OAAA"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rokat/OneDrive/Proyectos/ManayAcademy/.next-internal/server/app/tenant/%5Bslug%5D/admin/tags/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '00d2413c7b032011cc039227e801de69e758c1a19d'} from 'ACTIONS_MODULE0'\nexport {deleteTag as '603fdd9831f65d2fdcfcfe3db48cdd207587d7b891'} from 'ACTIONS_MODULE1'\nexport {createTag as '609fec0bbf176a2b4b139e41f1de51f31c318de8c9'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}}]
}