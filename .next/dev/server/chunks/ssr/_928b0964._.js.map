{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rokat/OneDrive/Proyectos/ManayAcademy/src/components/RichEditor.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useRef, useState } from 'react'\r\n\r\ninterface RichEditorProps {\r\n    name: string\r\n    initialValue?: string\r\n}\r\n\r\nfunction loadScript(src: string): Promise<void> {\r\n    return new Promise((resolve, reject) => {\r\n        if (document.querySelector(`script[src=\"${src}\"]`)) {\r\n            resolve(); return;\r\n        }\r\n        const s = document.createElement('script')\r\n        s.src = src\r\n        s.onload = () => resolve()\r\n        s.onerror = reject\r\n        document.head.appendChild(s)\r\n    })\r\n}\r\n\r\nfunction loadCss(href: string) {\r\n    if (document.querySelector(`link[href=\"${href}\"]`)) return\r\n    const l = document.createElement('link')\r\n    l.rel = 'stylesheet'\r\n    l.href = href\r\n    document.head.appendChild(l)\r\n}\r\n\r\nexport default function RichEditor({ name, initialValue = '' }: RichEditorProps) {\r\n    const containerRef = useRef<HTMLDivElement>(null)\r\n    const quillRef = useRef<any>(null)\r\n    const [htmlValue, setHtmlValue] = useState(initialValue)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        let cancelled = false\r\n\r\n        async function init() {\r\n            loadCss('https://cdn.quilljs.com/1.3.7/quill.snow.css')\r\n            await loadScript('https://cdn.quilljs.com/1.3.7/quill.min.js')\r\n\r\n            if (cancelled || !containerRef.current || quillRef.current) return\r\n\r\n            const Quill = (window as any).Quill\r\n            quillRef.current = new Quill(containerRef.current, {\r\n                theme: 'snow',\r\n                placeholder: 'Escribe tu mensaje aquí. Puedes insertar imágenes, cambiar colores, añadir enlaces y mucho más...',\r\n                modules: {\r\n                    toolbar: [\r\n                        [{ header: [1, 2, 3, false] }],\r\n                        ['bold', 'italic', 'underline', 'strike'],\r\n                        [{ color: [] }, { background: [] }],\r\n                        [{ font: [] }],\r\n                        [{ align: [] }],\r\n                        ['blockquote'],\r\n                        [{ list: 'ordered' }, { list: 'bullet' }],\r\n                        ['link', 'image', 'video'],\r\n                        ['clean'],\r\n                    ],\r\n                    clipboard: { matchVisual: false },\r\n                },\r\n            })\r\n\r\n            if (initialValue) {\r\n                quillRef.current.clipboard.dangerouslyPasteHTML(initialValue)\r\n            }\r\n\r\n            quillRef.current.on('text-change', () => {\r\n                const html = quillRef.current.root.innerHTML\r\n                setHtmlValue(html === '<p><br></p>' ? '' : html)\r\n            })\r\n\r\n            if (!cancelled) setLoading(false)\r\n        }\r\n\r\n        init().catch(console.error)\r\n\r\n        return () => { cancelled = true }\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"hidden\" name={name} value={htmlValue} />\r\n\r\n            {loading && (\r\n                <div style={{ padding: '40px', textAlign: 'center', color: '#94a3b8', fontSize: '0.85rem', background: '#f8fafc', borderRadius: '12px', border: '1px solid #f1f5f9' }}>\r\n                    Cargando editor...\r\n                </div>\r\n            )}\r\n\r\n            <div style={{ display: loading ? 'none' : 'block', border: '1px solid #e2e8f0', borderRadius: '12px', overflow: 'hidden', background: 'white' }}>\r\n                <div ref={containerRef} style={{ minHeight: '420px', fontSize: '1rem' }} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/rokat/OneDrive/Proyectos/ManayAcademy/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}}]
}