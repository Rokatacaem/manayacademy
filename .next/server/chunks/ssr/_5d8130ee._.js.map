{"version":3,"sources":["../../../../node_modules/next/src/build/webpack/loaders/next-flight-loader/action-client-wrapper.ts","../../../../src/components/RichEditor.tsx","../../../../src/components/TestEmailPanel.tsx","../../../../src/actions/data%3A7fb954%20%3Ctext/javascript%3E"],"sourcesContent":["// This file must be bundled in the app's client layer, it shouldn't be directly\n// imported by the server.\n\nexport { callServer } from 'next/dist/client/app-call-server'\nexport { findSourceMapURL } from 'next/dist/client/app-find-source-map-url'\n\n// A noop wrapper to let the Flight client create the server reference.\n// See also: https://github.com/facebook/react/pull/26632\n// eslint-disable-next-line import/no-extraneous-dependencies\nexport { createServerReference } from 'react-server-dom-webpack/client'\n","'use client'\r\n\r\nimport { useEffect, useRef, useState } from 'react'\r\n\r\ninterface RichEditorProps {\r\n    name: string\r\n    initialValue?: string\r\n}\r\n\r\nfunction loadScript(src: string): Promise<void> {\r\n    return new Promise((resolve, reject) => {\r\n        if (document.querySelector(`script[src=\"${src}\"]`)) {\r\n            resolve(); return;\r\n        }\r\n        const s = document.createElement('script')\r\n        s.src = src\r\n        s.onload = () => resolve()\r\n        s.onerror = reject\r\n        document.head.appendChild(s)\r\n    })\r\n}\r\n\r\nfunction loadCss(href: string) {\r\n    if (document.querySelector(`link[href=\"${href}\"]`)) return\r\n    const l = document.createElement('link')\r\n    l.rel = 'stylesheet'\r\n    l.href = href\r\n    document.head.appendChild(l)\r\n}\r\n\r\nexport default function RichEditor({ name, initialValue = '' }: RichEditorProps) {\r\n    const containerRef = useRef<HTMLDivElement>(null)\r\n    const quillRef = useRef<any>(null)\r\n    const [htmlValue, setHtmlValue] = useState(initialValue)\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    useEffect(() => {\r\n        let cancelled = false\r\n\r\n        async function init() {\r\n            loadCss('https://cdn.quilljs.com/1.3.7/quill.snow.css')\r\n            await loadScript('https://cdn.quilljs.com/1.3.7/quill.min.js')\r\n\r\n            if (cancelled || !containerRef.current || quillRef.current) return\r\n\r\n            const QuillLib = (window as any).Quill\r\n            const Quill = QuillLib?.default ?? QuillLib\r\n            quillRef.current = new Quill(containerRef.current, {\r\n                theme: 'snow',\r\n                placeholder: 'Escribe tu mensaje aqu칤. Puedes insertar im치genes, cambiar colores, a침adir enlaces y mucho m치s...',\r\n                modules: {\r\n                    toolbar: [\r\n                        [{ header: [1, 2, 3, false] }],\r\n                        ['bold', 'italic', 'underline', 'strike'],\r\n                        [{ color: [] }, { background: [] }],\r\n                        [{ font: [] }],\r\n                        [{ align: [] }],\r\n                        ['blockquote'],\r\n                        [{ list: 'ordered' }, { list: 'bullet' }],\r\n                        ['link', 'image', 'video'],\r\n                        ['clean'],\r\n                    ],\r\n                    clipboard: { matchVisual: false },\r\n                },\r\n            })\r\n\r\n            if (initialValue) {\r\n                quillRef.current.clipboard.dangerouslyPasteHTML(initialValue)\r\n            }\r\n\r\n            quillRef.current.on('text-change', () => {\r\n                const html = quillRef.current.root.innerHTML\r\n                setHtmlValue(html === '<p><br></p>' ? '' : html)\r\n            })\r\n\r\n            if (!cancelled) setLoading(false)\r\n        }\r\n\r\n        init().catch(console.error)\r\n\r\n        return () => { cancelled = true }\r\n    }, []) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    return (\r\n        <div>\r\n            <input type=\"hidden\" name={name} value={htmlValue} />\r\n\r\n            {loading && (\r\n                <div style={{ padding: '40px', textAlign: 'center', color: '#94a3b8', fontSize: '0.85rem', background: '#f8fafc', borderRadius: '12px', border: '1px solid #f1f5f9' }}>\r\n                    Cargando editor...\r\n                </div>\r\n            )}\r\n\r\n            <div style={{ display: loading ? 'none' : 'block', border: '1px solid #e2e8f0', borderRadius: '12px', overflow: 'hidden', background: 'white' }}>\r\n                <div ref={containerRef} style={{ minHeight: '420px', fontSize: '1rem' }} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","'use client'\r\n\r\nimport { useActionState } from 'react'\r\nimport { sendTestEmail } from '@/actions/campaigns'\r\n\r\ninterface TestEmailPanelProps {\r\n    tenantId: string\r\n    campaignId: string\r\n    defaultEmail?: string\r\n}\r\n\r\nconst initialState = { success: '', error: '' }\r\n\r\nexport default function TestEmailPanel({ tenantId, campaignId, defaultEmail = '' }: TestEmailPanelProps) {\r\n    const boundAction = sendTestEmail.bind(null, tenantId, campaignId)\r\n    const [state, dispatch, isPending] = useActionState(\r\n        async (_: any, formData: FormData) => await boundAction(formData),\r\n        initialState\r\n    )\r\n\r\n    return (\r\n        <div style={{\r\n            background: 'white',\r\n            borderRadius: '20px',\r\n            boxShadow: '0 4px 20px rgba(0,0,0,0.04)',\r\n            overflow: 'hidden',\r\n            border: '2px solid #7c9082',\r\n        }}>\r\n            {/* Header */}\r\n            <div style={{ background: 'linear-gradient(135deg, #7c9082, #5e6f63)', padding: '20px 24px' }}>\r\n                <p style={{ margin: 0, color: 'rgba(255,255,255,0.7)', fontSize: '0.65rem', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '0.3em' }}>\r\n                    Verificaci칩n\r\n                </p>\r\n                <h3 style={{ margin: '4px 0 0', color: 'white', fontSize: '1rem', fontWeight: '600' }}>\r\n                    游빍 Env칤o de Prueba\r\n                </h3>\r\n            </div>\r\n\r\n            <div style={{ padding: '24px' }}>\r\n                <p style={{ fontSize: '0.82rem', color: '#64748b', lineHeight: '1.6', marginBottom: '20px' }}>\r\n                    Env칤a esta campa침a a tu propia bandeja antes del env칤o masivo. El asunto aparecer치 con el prefijo <strong>[PRUEBA]</strong>.\r\n                </p>\r\n\r\n                <form action={dispatch}>\r\n                    <label style={{ fontSize: '0.65rem', fontWeight: '700', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.15em', display: 'block', marginBottom: '8px' }}>\r\n                        Correo(s) de prueba\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"testEmails\"\r\n                        defaultValue={defaultEmail}\r\n                        placeholder=\"info@manayacademy.com, rodrigo@ejemplo.com\"\r\n                        required\r\n                        disabled={isPending}\r\n                        style={{ width: '100%', padding: '14px', border: '1px solid #e2e8f0', borderRadius: '12px', fontSize: '0.85rem', background: '#f8fafc', boxSizing: 'border-box', marginBottom: '8px', color: '#2c3e50' }}\r\n                    />\r\n                    <p style={{ fontSize: '0.7rem', color: '#94a3b8', margin: '0 0 16px' }}>\r\n                        Separa m칰ltiples correos con comas\r\n                    </p>\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={isPending}\r\n                        style={{\r\n                            width: '100%',\r\n                            padding: '14px',\r\n                            background: isPending ? '#a3b1a8' : '#7c9082',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '12px',\r\n                            cursor: isPending ? 'not-allowed' : 'pointer',\r\n                            fontWeight: '700',\r\n                            fontSize: '0.78rem',\r\n                            textTransform: 'uppercase',\r\n                            letterSpacing: '0.15em',\r\n                            transition: 'all 0.3s ease',\r\n                        }}\r\n                    >\r\n                        {isPending ? 'Enviando...' : '游닏 Enviar Prueba'}\r\n                    </button>\r\n                </form>\r\n\r\n                {/* Feedback Messages */}\r\n                {state?.success && (\r\n                    <div style={{ marginTop: '16px', padding: '14px', background: '#f0fdf4', border: '1px solid #bbf7d0', borderRadius: '12px' }}>\r\n                        <p style={{ margin: 0, fontSize: '0.82rem', color: '#166534', fontWeight: '500' }}>{state.success}</p>\r\n                    </div>\r\n                )}\r\n                {state?.error && (\r\n                    <div style={{ marginTop: '16px', padding: '14px', background: '#fef2f2', border: '1px solid #fecaca', borderRadius: '12px' }}>\r\n                        <p style={{ margin: 0, fontSize: '0.82rem', color: '#991b1b', fontWeight: '500' }}>丘멆잺 {state.error}</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","/* __next_internal_action_entry_do_not_use__ [{\"70c6a5394d4e2aaae04d1f4ae2e9256dc917c008d2\":\"sendTestEmail\"},\"src/actions/campaigns.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_0=/*#__PURE__*/createServerReference(\"70c6a5394d4e2aaae04d1f4ae2e9256dc917c008d2\",callServer,void 0,findSourceMapURL,\"sendTestEmail\");export{$$RSC_SERVER_ACTION_0 as sendTestEmail};"],"names":["callServer","createServerReference","findSourceMapURL"],"mappings":"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","ignoreList":[0]}