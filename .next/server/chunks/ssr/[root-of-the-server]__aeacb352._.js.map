{"version":3,"sources":["../../../../src/app/tenant/%5Bslug%5D/layout.tsx"],"sourcesContent":["\r\nimport { ReactNode } from 'react';\r\nimport { prisma } from '@/lib/prisma';\r\nimport { notFound } from 'next/navigation';\r\n\r\n// Next.js 15+ Params are async in layouts too? No, usually in page.\r\n// In Next.js 15, params is Promise? Check recent docs. \r\n// \"In Next.js 15, params is asynchronous\".\r\n// So `params` should be awaited.\r\n\r\nexport default async function TenantLayout({\r\n    children,\r\n    params\r\n}: {\r\n    children: ReactNode;\r\n    params: Promise<{ slug: string }>\r\n}) {\r\n    const { slug } = await params;\r\n\r\n    const tenant = await prisma.tenant.findUnique({\r\n        where: { slug }\r\n    });\r\n\r\n    if (!tenant) {\r\n        notFound();\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className=\"min-h-screen bg-gray-50 dark:bg-zinc-900\"\r\n            data-tenant={tenant.id}\r\n            style={tenant.brandColor ? { '--primary': tenant.brandColor } as React.CSSProperties : undefined}\r\n        >\r\n            {/* Dynamic Theme Injection */}\r\n            {tenant.brandColor && (\r\n                <style dangerouslySetInnerHTML={{\r\n                    __html: `\r\n                    :root { --primary: ${tenant.brandColor}; }\r\n                    .bg-primary { background-color: ${tenant.brandColor}; }\r\n                    .text-primary { color: ${tenant.brandColor}; }\r\n                    .border-primary { border-color: ${tenant.brandColor}; }\r\n                    /* Add more utility overrides if needed or use CSS variables in CSS file */\r\n                `}} />\r\n            )}\r\n            {children}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"4fAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAOe,eAAe,EAAa,UACvC,CAAQ,QACR,CAAM,CAIT,EACG,GAAM,CAAE,MAAI,CAAE,CAAG,MAAM,EAEjB,EAAS,MAAM,EAAA,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAC1C,MAAO,MAAE,CAAK,CAClB,GAMA,OAJI,AAAC,GACD,CAAA,EAAA,EADS,AACT,QAAA,AAAQ,IAIR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACG,UAAU,2CACV,cAAa,EAAO,EAAE,CACtB,MAAO,EAAO,UAAU,CAAG,CAAE,YAAa,EAAO,UAAU,AAAC,OAA2B,YAGtF,EAAO,UAAU,EACd,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,wBAAyB,CAC5B,OAAQ,CAAC;uCACU,EAAE,EAAO,UAAU,CAAC;oDACP,EAAE,EAAO,UAAU,CAAC;2CAC7B,EAAE,EAAO,UAAU,CAAC;oDACX,EAAE,EAAO,UAAU,CAAC;;gBAExD,CAAC,IAEJ,IAGb"}