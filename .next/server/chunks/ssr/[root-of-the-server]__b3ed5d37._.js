module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},17537,a=>{a.n(a.i(3363))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},68418,a=>{a.n(a.i(20500))},65722,a=>{a.n(a.i(57469))},87133,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/RichEditor.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/RichEditor.tsx <module evaluation>","default")},71483,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/RichEditor.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/RichEditor.tsx","default")},25010,a=>{"use strict";a.i(87133);var b=a.i(71483);a.n(b)},99453,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/TestEmailPanel.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/TestEmailPanel.tsx <module evaluation>","default")},28635,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/src/components/TestEmailPanel.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/TestEmailPanel.tsx","default")},84737,a=>{"use strict";a.i(99453);var b=a.i(28635);a.n(b)},9210,a=>{"use strict";var b=a.i(7997),c=a.i(66518),d=a.i(54400);a.i(70396);var e=a.i(73727),f=a.i(84737),g=a.i(25010),h=a.i(95936);async function i({params:a}){let{slug:i,id:j}=await a,k=await c.prisma.tenant.findUnique({where:{slug:i}});k||(0,e.notFound)();let l=await c.prisma.campaign.findUnique({where:{id:j}});l&&l.tenantId===k.id||(0,e.notFound)();let m=await c.prisma.tag.findMany({where:{tenantId:k.id},orderBy:{name:"asc"}}),n="SENT"===l.status,o=l.stats,p=d.updateCampaign.bind(null,k.id,l.id),q=d.deleteCampaign.bind(null,k.id,l.id),r=d.sendCampaign.bind(null,k.id,l.id),s=n?"#bbf7d0":"#fde68a";return(0,b.jsxs)("div",{style:{maxWidth:"1100px"},children:[(0,b.jsxs)("div",{style:{marginBottom:"40px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{style:{fontSize:"0.7rem",color:"#7c9082",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.3em",marginBottom:"8px"},children:"Marketing"}),(0,b.jsx)("h1",{style:{fontSize:"1.8rem",color:"#2c3e50",margin:"0 0 12px",fontWeight:"400"},children:n?"Informe de CampaÃ±a":"Editar CampaÃ±a"}),(0,b.jsx)("span",{style:{display:"inline-block",padding:"6px 16px",borderRadius:"20px",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.15em",background:n?"#f0fdf4":"#fffbeb",color:n?"#166534":"#92400e",border:`1px solid ${s}`},children:n?"âœ… Enviada":"ðŸ“ Borrador"})]}),(0,b.jsx)(h.default,{href:"/admin/campaigns",style:{fontSize:"0.75rem",color:"#64748b",textDecoration:"none",fontWeight:"600"},children:"â† Volver a campaÃ±as"})]}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 340px",gap:"32px",alignItems:"start"},children:[(0,b.jsx)("div",{children:(0,b.jsx)("form",{action:p,children:(0,b.jsxs)("fieldset",{disabled:n,style:{border:"none",padding:0,margin:0},children:[(0,b.jsxs)("div",{style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.04)",marginBottom:"24px"},children:[(0,b.jsx)("label",{style:{fontSize:"0.65rem",fontWeight:"700",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.2em",display:"block",marginBottom:"12px"},children:"Asunto"}),(0,b.jsx)("input",{type:"text",name:"subject",defaultValue:l.subject,style:{width:"100%",padding:"16px",border:"1px solid #f1f5f9",borderRadius:"12px",fontSize:"1.1rem",background:"#f8fafc",boxSizing:"border-box",color:"#2c3e50"}})]}),(0,b.jsxs)("div",{style:{background:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.04)",marginBottom:"24px"},children:[(0,b.jsx)("label",{style:{fontSize:"0.65rem",fontWeight:"700",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.2em",display:"block",marginBottom:"16px"},children:"Contenido del Mensaje"}),n?(0,b.jsx)("div",{style:{padding:"20px",background:"#faf9f6",borderRadius:"12px",border:"1px solid #f1f5f9",minHeight:"200px"},dangerouslySetInnerHTML:{__html:l.content||""}}):(0,b.jsx)(g.default,{name:"content",initialValue:l.content||""})]}),!n&&(0,b.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,b.jsx)("button",{type:"submit",style:{padding:"14px 32px",background:"#5e6f63",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"0.15em"},children:"Guardar Cambios"})})]})})}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,b.jsx)(f.default,{tenantId:k.id,campaignId:l.id,defaultEmail:"info@manayacademy.com"}),n?(0,b.jsxs)("div",{style:{background:"white",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.04)",padding:"24px"},children:[(0,b.jsx)("h3",{style:{margin:"0 0 20px",fontSize:"1rem",color:"#2c3e50"},children:"ðŸ“Š Resultados"}),(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"14px",background:"#f0fdf4",borderRadius:"12px"},children:[(0,b.jsx)("span",{style:{fontSize:"0.85rem",color:"#166534"},children:"âœ… Enviados"}),(0,b.jsx)("strong",{style:{color:"#166534"},children:o?.sent??0})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"14px",background:"#fef2f2",borderRadius:"12px"},children:[(0,b.jsx)("span",{style:{fontSize:"0.85rem",color:"#991b1b"},children:"âŒ Errores"}),(0,b.jsx)("strong",{style:{color:"#991b1b"},children:o?.errors??0})]}),(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"14px",background:"#f8fafc",borderRadius:"12px"},children:[(0,b.jsx)("span",{style:{fontSize:"0.85rem",color:"#2c3e50"},children:"ðŸ‘¥ Total"}),(0,b.jsx)("strong",{children:o?.total??0})]})]})]}):(0,b.jsxs)("div",{style:{background:"white",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.04)",overflow:"hidden"},children:[(0,b.jsxs)("div",{style:{background:"linear-gradient(135deg, #2c3e50, #1a252f)",padding:"20px 24px"},children:[(0,b.jsx)("p",{style:{margin:0,color:"rgba(255,255,255,0.6)",fontSize:"0.65rem",fontWeight:"700",textTransform:"uppercase",letterSpacing:"0.3em"},children:"EnvÃ­o masivo"}),(0,b.jsx)("h3",{style:{margin:"4px 0 0",color:"white",fontSize:"1rem",fontWeight:"600"},children:"ðŸš€ Lanzar CampaÃ±a"})]}),(0,b.jsxs)("div",{style:{padding:"24px"},children:[(0,b.jsxs)("p",{style:{fontSize:"0.78rem",color:"#64748b",marginBottom:"16px"},children:["âš ï¸ Una vez enviada, ",(0,b.jsx)("strong",{children:"no podrÃ¡s editar"})," esta campaÃ±a. AsegÃºrate de haberla probado antes."]}),(0,b.jsxs)("form",{action:r,children:[(0,b.jsx)("label",{style:{fontSize:"0.65rem",fontWeight:"700",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",display:"block",marginBottom:"8px"},children:"Destinatarios"}),(0,b.jsxs)("select",{name:"targetType",style:{width:"100%",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"10px",marginBottom:"16px",background:"#f8fafc",fontSize:"0.85rem",color:"#2c3e50"},children:[(0,b.jsx)("option",{value:"all",children:"Todos los Contactos Activos"}),(0,b.jsx)("option",{value:"tags",children:"Filtrar por Etiquetas"})]}),m.length>0&&(0,b.jsxs)("div",{style:{maxHeight:"160px",overflowY:"auto",border:"1px solid #e2e8f0",borderRadius:"10px",padding:"12px",marginBottom:"16px"},children:[(0,b.jsx)("p",{style:{fontSize:"0.7rem",color:"#94a3b8",margin:"0 0 10px",fontWeight:"600"},children:"Selecciona etiquetas:"}),m.map(a=>(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px 0",fontSize:"0.85rem",color:"#2c3e50",cursor:"pointer"},children:[(0,b.jsx)("input",{type:"checkbox",name:"tags",value:a.id}),a.name]},a.id))]}),(0,b.jsx)("button",{type:"submit",style:{width:"100%",padding:"16px",background:"#2c3e50",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"0.15em"},children:"Enviar Ahora ðŸš€"})]})]})]}),(0,b.jsx)("form",{action:q,children:(0,b.jsx)("button",{type:"submit",style:{width:"100%",padding:"12px",background:"none",border:"1px solid #fecaca",color:"#ef4444",borderRadius:"12px",cursor:"pointer",fontWeight:"600",fontSize:"0.75rem"},children:"ðŸ—‘ï¸ Eliminar campaÃ±a"})})]})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b3ed5d37._.js.map