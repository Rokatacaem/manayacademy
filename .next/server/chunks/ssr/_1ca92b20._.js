module.exports=[13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},38961,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(18558);a.i(70396);var e=a.i(73727);async function f(a,b,f){let g=f.get("title");if(!g)return{error:"Title required"};try{let d=await c.prisma.course.findUnique({where:{id:b}});if(!d||d.tenantId!==a)return{error:"Access denied"};let e=await c.prisma.module.findFirst({where:{courseId:b},orderBy:{order:"desc"}}),f=(e?.order??-1)+1;await c.prisma.module.create({data:{tenantId:a,courseId:b,title:g,order:f}})}catch(a){return console.error("Failed to create module:",a),{error:"Failed to create module"}}(0,d.revalidatePath)(`/admin/courses/${b}`),(0,e.redirect)(`/admin/courses/${b}`)}async function g(a,b,f,g){let h=g.get("title");try{let b=await c.prisma.module.findUnique({where:{id:f}});if(!b||b.tenantId!==a)return{error:"Access denied"};await c.prisma.module.update({where:{id:f},data:{title:h}})}catch(a){return{error:"Update failed"}}(0,d.revalidatePath)(`/admin/courses/${b}`),(0,e.redirect)(`/admin/courses/${b}`)}async function h(a,b,e){try{let b=await c.prisma.module.findUnique({where:{id:e}});if(!b||b.tenantId!==a)return{error:"Access denied"};await c.prisma.module.delete({where:{id:e}})}catch(a){return{error:"Delete failed"}}(0,d.revalidatePath)(`/admin/courses/${b}`)}(0,a.i(13095).ensureServerEntryExports)([f,g,h]),(0,b.registerServerReference)(f,"70281f4906bb0911fb3dd4878f5e2014da328c1492",null),(0,b.registerServerReference)(g,"78e67356fe45f6f15a2214517bde5d1662c995ff8b",null),(0,b.registerServerReference)(h,"7046ca9ed0d19d0cf0e10494ccb94f149e5345f0a6",null),a.s(["createModule",()=>f,"deleteModule",()=>h,"updateModule",()=>g])},85591,a=>{"use strict";var b=a.i(57469),c=a.i(38961);a.s([],35756),a.i(35756),a.s(["004eab34b3722ccdb34bdc153ae48c8c96bfc525ab",()=>b.$$RSC_SERVER_ACTION_0,"70281f4906bb0911fb3dd4878f5e2014da328c1492",()=>c.createModule,"7046ca9ed0d19d0cf0e10494ccb94f149e5345f0a6",()=>c.deleteModule,"78e67356fe45f6f15a2214517bde5d1662c995ff8b",()=>c.updateModule],85591)}];

//# sourceMappingURL=_1ca92b20._.js.map