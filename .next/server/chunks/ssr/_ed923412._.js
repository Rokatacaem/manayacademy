module.exports=[13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},3519,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(18558);a.i(70396);var e=a.i(73727);async function f(a,b){let f=b.get("title"),g=b.get("slug"),h=b.get("description"),i=parseFloat(b.get("price"))||0,j=b.get("image");if(!f||!g)return{error:"Title and Slug are required"};try{await c.prisma.course.create({data:{tenantId:a,title:f,slug:g,description:h,price:i,image:j,published:!1}})}catch(a){return console.error("Failed to create course:",a),{error:"Failed to create course. Slug might already exist."}}(0,d.revalidatePath)("/admin/courses"),(0,e.redirect)("/admin/courses")}async function g(a,b,f){if(!b)return;let g=f.get("title"),h=f.get("slug"),i=f.get("description"),j=parseFloat(f.get("price"))||0,k=f.get("image"),l="on"===f.get("published");try{let d=await c.prisma.course.findUnique({where:{id:b}});if(!d||d.tenantId!==a)return{error:"Access denied"};await c.prisma.course.update({where:{id:b},data:{title:g,slug:h,description:i,price:j,image:k,published:l}})}catch(a){return console.error("Failed to update course:",a),{error:"Failed to update course."}}(0,d.revalidatePath)("/admin/courses"),(0,d.revalidatePath)(`/admin/courses/${b}`),(0,e.redirect)(`/admin/courses/${b}`)}async function h(a,b){if(b){try{let d=await c.prisma.course.findUnique({where:{id:b}});if(!d||d.tenantId!==a)return{error:"Access denied"};await c.prisma.course.delete({where:{id:b}})}catch(a){return console.error("Failed to delete course:",a),{error:"Failed to delete course."}}(0,d.revalidatePath)("/admin/courses"),(0,e.redirect)("/admin/courses")}}(0,a.i(13095).ensureServerEntryExports)([f,g,h]),(0,b.registerServerReference)(f,"604a78745d54d1b207f8b030ab0b2fc6ed99b280b8",null),(0,b.registerServerReference)(g,"70a5678532715eb2e91f2b683a298da3fa6c4e9e80",null),(0,b.registerServerReference)(h,"60fec3e3c3a44a5cf64a9bc7d297c0152bb03b3a9d",null),a.s(["createCourse",()=>f,"deleteCourse",()=>h,"updateCourse",()=>g])},90395,a=>{"use strict";var b=a.i(57469),c=a.i(3519);a.s([],35010),a.i(35010),a.s(["004eab34b3722ccdb34bdc153ae48c8c96bfc525ab",()=>b.$$RSC_SERVER_ACTION_0,"604a78745d54d1b207f8b030ab0b2fc6ed99b280b8",()=>c.createCourse,"60fec3e3c3a44a5cf64a9bc7d297c0152bb03b3a9d",()=>c.deleteCourse,"70a5678532715eb2e91f2b683a298da3fa6c4e9e80",()=>c.updateCourse],90395)}];

//# sourceMappingURL=_ed923412._.js.map