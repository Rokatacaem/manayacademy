{"version":3,"sources":["../../../../src/components/ui/Button.tsx","../../../../node_modules/clsx/dist/clsx.mjs","../../../../src/app/tenant/%5Bslug%5D/admin/contacts/page.tsx"],"sourcesContent":["\r\nimport { ButtonHTMLAttributes, forwardRef } from 'react'\r\nimport { clsx } from 'clsx'\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'destructive'\r\n    size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant = 'primary', ...props }, ref) => {\r\n        return (\r\n            <button\r\n                ref={ref}\r\n                className={clsx(\r\n                    'btn',\r\n                    {\r\n                        'btn-primary': variant === 'primary',\r\n                        'btn-destructive': variant === 'destructive',\r\n                        // Add other variants as needed based on globals.css\r\n                    },\r\n                    className\r\n                )}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = 'Button'\r\n\r\nexport { Button }\r\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","\r\nimport { prisma } from '@/lib/prisma';\r\nimport Link from 'next/link';\r\nimport { Button } from '@/components/ui/Button';\r\n\r\nexport default async function ContactsPage() {\r\n    const contacts = await prisma.contact.findMany({\r\n        orderBy: { createdAt: 'desc' },\r\n        include: { tags: true },\r\n    });\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <h1 className=\"text-2xl font-bold tracking-tight\">Contactos</h1>\r\n                <div className=\"flex gap-2\">\r\n                    <Link href=\"/admin/contacts/import\">\r\n                        <Button variant=\"secondary\">Importar CSV</Button>\r\n                    </Link>\r\n                    <Link href=\"/admin/contacts/new\">\r\n                        <Button>+ Nuevo Contacto</Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white dark:bg-zinc-950 shadow sm:rounded-lg overflow-hidden border border-gray-200 dark:border-zinc-800\">\r\n                <table className=\"min-w-full divide-y divide-gray-200 dark:divide-zinc-800\">\r\n                    <thead className=\"bg-gray-50 dark:bg-zinc-900\">\r\n                        <tr>\r\n                            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                Email / Nombre\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                Estado\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                Etiquetas\r\n                            </th>\r\n                            <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider\">\r\n                                Fecha Registro\r\n                            </th>\r\n                            <th scope=\"col\" className=\"relative px-6 py-3\">\r\n                                <span className=\"sr-only\">Editar</span>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white dark:bg-zinc-950 divide-y divide-gray-200 dark:divide-zinc-800\">\r\n                        {contacts.map((contact) => (\r\n                            <tr key={contact.id}>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <div>\r\n                                            <div className=\"text-sm font-medium text-gray-900 dark:text-white\">\r\n                                                {contact.firstName} {contact.lastName}\r\n                                            </div>\r\n                                            <div className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                                                {contact.email}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${contact.status === 'ACTIVE'\r\n                                        ? 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'\r\n                                        : 'bg-red-100 text-red-800'\r\n                                        }`}>\r\n                                        {contact.status}\r\n                                    </span>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                    <div className=\"flex gap-1 flex-wrap\">\r\n                                        {contact.tags.map(tag => (\r\n                                            <span key={tag.id} className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800 dark:bg-zinc-800 dark:text-gray-200\">\r\n                                                {tag.name}\r\n                                            </span>\r\n                                        ))}\r\n                                    </div>\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400\">\r\n                                    {contact.createdAt.toLocaleDateString()}\r\n                                </td>\r\n                                <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                                    <Link href={`/admin/contacts/${contact.id}`} className=\"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300\">\r\n                                        Editar\r\n                                    </Link>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        {contacts.length === 0 && (\r\n                            <tr>\r\n                                <td colSpan={5} className=\"px-6 py-4 text-center text-sm text-gray-500\">\r\n                                    No hay contactos registrados.\r\n                                </td>\r\n                            </tr>\r\n                        )}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[1]}