module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},44677,a=>{"use strict";var b=a.i(37936),c=a.i(66518),d=a.i(72849);a.i(70396);var e=a.i(73727);async function f(a,b){let f=b.get("name"),g=b.get("email"),h=b.get("password"),i=b.get("slug");if(!f||!g||!h||!i)return"Missing fields";try{let a=await c.prisma.tenant.findUnique({where:{slug:i}});if(!a)return"Tenant not found";if(await c.prisma.user.findFirst({where:{email:g,tenantId:a.id}}))return"Email already exists in this tenant.";let b=await d.default.hash(h,10);await c.prisma.user.create({data:{name:f,email:g,password:b,tenantId:a.id,role:"STUDENT"}})}catch(a){return console.error("Registration failed:",a),"Failed to create user."}(0,e.redirect)(`/_tenant/${i}/login?registered=true`)}(0,a.i(13095).ensureServerEntryExports)([f]),(0,b.registerServerReference)(f,"60bff822a95d13528c1fce4915e72d8a5fe54230ab",null),a.s([],68325),a.i(68325),a.s(["60bff822a95d13528c1fce4915e72d8a5fe54230ab",()=>f],44677)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f811970b._.js.map