{"version":3,"sources":["../../../../src/app/tenant/%5Bslug%5D/admin/page.tsx"],"sourcesContent":["import { auth } from \"@/auth\";\r\nimport { prisma } from \"@/lib/prisma\";\r\nimport Link from \"next/link\";\r\n\r\nexport default async function AdminDashboard() {\r\n    const session = await auth();\r\n    const tenantId = (session?.user as any)?.tenantId;\r\n\r\n    const [contactCount, courseCount] = await Promise.all([\r\n        prisma.contact.count({ where: { tenantId } }),\r\n        prisma.course.count({ where: { tenantId } }),\r\n    ]);\r\n\r\n    const recentContacts = await prisma.contact.findMany({\r\n        where: { tenantId },\r\n        orderBy: { createdAt: 'desc' },\r\n        take: 5,\r\n        select: { id: true, firstName: true, lastName: true, email: true, createdAt: true },\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <div style={{ marginBottom: '40px' }}>\r\n                <p style={{ fontSize: '0.7rem', color: '#7c9082', fontWeight: '700', textTransform: 'uppercase', letterSpacing: '0.3em', marginBottom: '8px' }}>\r\n                    Centro de Bienestar Integral\r\n                </p>\r\n                <h1 style={{ fontSize: '2rem', color: '#2c3e50', margin: '0', fontWeight: '400' }}>\r\n                    Panel de Control\r\n                </h1>\r\n                <p style={{ color: '#64748b', marginTop: '8px' }}>\r\n                    Bienvenida, {session?.user?.name ?? 'Ana'}\r\n                </p>\r\n            </div>\r\n\r\n            {/* KPI Cards */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '24px', marginBottom: '48px' }}>\r\n                <div style={{ background: 'white', padding: '32px', borderRadius: '20px', boxShadow: '0 4px 20px rgba(0,0,0,0.04)', borderTop: '4px solid #7c9082' }}>\r\n                    <p style={{ fontSize: '0.7rem', fontWeight: '700', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.2em', margin: '0 0 12px' }}>Total Contactos</p>\r\n                    <p style={{ fontSize: '3rem', fontWeight: '300', color: '#2c3e50', margin: '0', lineHeight: '1' }}>{contactCount}</p>\r\n                </div>\r\n                <div style={{ background: 'white', padding: '32px', borderRadius: '20px', boxShadow: '0 4px 20px rgba(0,0,0,0.04)', borderTop: '4px solid #d6d2c4' }}>\r\n                    <p style={{ fontSize: '0.7rem', fontWeight: '700', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.2em', margin: '0 0 12px' }}>Cursos Activos</p>\r\n                    <p style={{ fontSize: '3rem', fontWeight: '300', color: '#2c3e50', margin: '0', lineHeight: '1' }}>{courseCount}</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Recent Contacts */}\r\n            <div style={{ background: 'white', borderRadius: '20px', boxShadow: '0 4px 20px rgba(0,0,0,0.04)', overflow: 'hidden' }}>\r\n                <div style={{ padding: '24px 32px', borderBottom: '1px solid #f1f5f9', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <h2 style={{ margin: '0', fontSize: '1rem', fontWeight: '600', color: '#2c3e50' }}>Últimos Contactos</h2>\r\n                    <Link href=\"/admin/contacts\" style={{ fontSize: '0.75rem', color: '#7c9082', textDecoration: 'none', fontWeight: '600' }}>\r\n                        Ver todos →\r\n                    </Link>\r\n                </div>\r\n                <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n                    <thead>\r\n                        <tr style={{ background: '#faf9f6' }}>\r\n                            <th style={{ padding: '12px 32px', textAlign: 'left', fontSize: '0.65rem', fontWeight: '700', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.15em' }}>Nombre</th>\r\n                            <th style={{ padding: '12px 32px', textAlign: 'left', fontSize: '0.65rem', fontWeight: '700', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.15em' }}>Email</th>\r\n                            <th style={{ padding: '12px 32px', textAlign: 'left', fontSize: '0.65rem', fontWeight: '700', color: '#94a3b8', textTransform: 'uppercase', letterSpacing: '0.15em' }}>Registro</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {recentContacts.length === 0 ? (\r\n                            <tr>\r\n                                <td colSpan={3} style={{ padding: '40px', textAlign: 'center', color: '#94a3b8', fontSize: '0.9rem' }}>\r\n                                    Aún no hay contactos registrados\r\n                                </td>\r\n                            </tr>\r\n                        ) : recentContacts.map((c, i) => (\r\n                            <tr key={c.id} style={{ borderTop: '1px solid #f8f9fa' }}>\r\n                                <td style={{ padding: '16px 32px', fontSize: '0.9rem', color: '#2c3e50', fontWeight: '500' }}>\r\n                                    {c.firstName} {c.lastName ?? ''}\r\n                                </td>\r\n                                <td style={{ padding: '16px 32px', fontSize: '0.85rem', color: '#64748b' }}>{c.email}</td>\r\n                                <td style={{ padding: '16px 32px', fontSize: '0.8rem', color: '#94a3b8' }}>\r\n                                    {new Date(c.createdAt).toLocaleDateString('es-CL')}\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}