{"version":3,"sources":["../../../../src/components/ui/Button.tsx","../../../../node_modules/clsx/dist/clsx.mjs","../../../../src/app/tenant/%5Bslug%5D/admin/courses/%5BcourseId%5D/page.tsx"],"sourcesContent":["\r\nimport { ButtonHTMLAttributes, forwardRef } from 'react'\r\nimport { clsx } from 'clsx'\r\n\r\ninterface ButtonProps extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n    variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'destructive'\r\n    size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant = 'primary', ...props }, ref) => {\r\n        return (\r\n            <button\r\n                ref={ref}\r\n                className={clsx(\r\n                    'btn',\r\n                    {\r\n                        'btn-primary': variant === 'primary',\r\n                        'btn-destructive': variant === 'destructive',\r\n                        // Add other variants as needed based on globals.css\r\n                    },\r\n                    className\r\n                )}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = 'Button'\r\n\r\nexport { Button }\r\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import { prisma } from '@/lib/prisma';\r\nimport { Button } from '@/components/ui/Button';\r\nimport { updateCourse, deleteCourse } from '@/actions/courses';\r\nimport { notFound } from 'next/navigation';\r\nimport Link from 'next/link';\r\n\r\nexport default async function CourseIdPage({ params }: { params: { courseId: string } }) {\r\n    const resolvedParams = await params;\r\n    const { courseId } = resolvedParams;\r\n\r\n    const course = await prisma.course.findUnique({\r\n        where: { id: courseId },\r\n        include: {\r\n            modules: {\r\n                orderBy: { order: 'asc' },\r\n                include: {\r\n                    lessons: {\r\n                        orderBy: { order: 'asc' }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    if (!course) {\r\n        notFound();\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                    <h1 className=\"text-2xl font-bold\">{course.title}</h1>\r\n                    <p className=\"text-sm text-gray-500\">/{course.slug}</p>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <Link href={`/courses/${course.slug}`} target=\"_blank\">\r\n                        <Button variant=\"outline\">Ver c贸mo estudiante</Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n                {/* Left Column: Course Details */}\r\n                <div className=\"md:col-span-1 space-y-6\">\r\n                    <div className=\"bg-white dark:bg-zinc-950 p-6 rounded-lg shadow border border-gray-200 dark:border-zinc-800\">\r\n                        <h2 className=\"text-lg font-bold mb-4\">Detalles del Curso</h2>\r\n                        <form action={updateCourse.bind(null, course.id)} className=\"space-y-4\">\r\n                            <div>\r\n                                <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">T铆tulo</label>\r\n                                <input type=\"text\" name=\"title\" defaultValue={course.title} className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-zinc-700 shadow-sm p-2 bg-transparent border\" />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"slug\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Slug</label>\r\n                                <input type=\"text\" name=\"slug\" defaultValue={course.slug} className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-zinc-700 shadow-sm p-2 bg-transparent border\" />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Descripci贸n</label>\r\n                                <textarea name=\"description\" rows={3} defaultValue={course.description || ''} className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-zinc-700 shadow-sm p-2 bg-transparent border\" />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"price\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Precio</label>\r\n                                <input type=\"number\" name=\"price\" step=\"0.01\" defaultValue={Number(course.price)} className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-zinc-700 shadow-sm p-2 bg-transparent border\" />\r\n                            </div>\r\n                            <div>\r\n                                <label htmlFor=\"image\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">Imagen URL</label>\r\n                                <input type=\"text\" name=\"image\" defaultValue={course.image || ''} className=\"mt-1 block w-full rounded-md border-gray-300 dark:border-zinc-700 shadow-sm p-2 bg-transparent border\" />\r\n                            </div>\r\n                            <div className=\"flex items-center\">\r\n                                <input type=\"checkbox\" name=\"published\" id=\"published\" defaultChecked={course.published} className=\"h-4 w-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500\" />\r\n                                <label htmlFor=\"published\" className=\"ml-2 block text-sm text-gray-900 dark:text-gray-300\">Publicado</label>\r\n                            </div>\r\n\r\n                            <div className=\"pt-4\">\r\n                                <Button type=\"submit\" className=\"w-full\">Guardar Cambios</Button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n\r\n                    <div className=\"bg-red-50 dark:bg-red-900/20 p-6 rounded-lg border border-red-200 dark:border-red-900\">\r\n                        <h3 className=\"text-sm font-bold text-red-800 dark:text-red-300 mb-2\">Zona de Peligro</h3>\r\n                        <form action={deleteCourse.bind(null, course.id)}>\r\n                            <Button type=\"submit\" variant=\"destructive\" className=\"w-full\">Eliminar Curso</Button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Right Column: Curriculum (Modules & Lessons) */}\r\n                <div className=\"md:col-span-2 space-y-6\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <h2 className=\"text-xl font-bold\">Contenido del Curso</h2>\r\n                        {/* We will add a Create Module action later, or link to a separate page? \r\n                            Ideally inline or separate. Let's start with a Link to separate page \"New Module\". \r\n                            Or just a form here? Let's use a Link for now to keep it clean, or a small inline form.\r\n                        */}\r\n                        <Link href={`/admin/courses/${course.id}/modules/new`}>\r\n                            <Button variant=\"secondary\">+ A帽adir M贸dulo</Button>\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4\">\r\n                        {course.modules.length === 0 && (\r\n                            <div className=\"text-center py-12 bg-gray-50 dark:bg-zinc-900/50 rounded-lg border border-dashed border-gray-300 dark:border-zinc-700\">\r\n                                <p className=\"text-gray-500\">No hay m贸dulos definidos.</p>\r\n                            </div>\r\n                        )}\r\n\r\n                        {course.modules.map(module => (\r\n                            <div key={module.id} className=\"bg-white dark:bg-zinc-950 rounded-lg shadow border border-gray-200 dark:border-zinc-800 overflow-hidden\">\r\n                                <div className=\"bg-gray-50 dark:bg-zinc-900 px-4 py-3 flex justify-between items-center border-b border-gray-200 dark:border-zinc-800\">\r\n                                    <h3 className=\"font-semibold\">{module.title}</h3>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <Link href={`/admin/courses/${course.id}/modules/${module.id}/edit`}>\r\n                                            <span className=\"text-xs text-indigo-600 hover:underline\">Editar</span>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"p-4\">\r\n                                    <ul className=\"space-y-2\">\r\n                                        {module.lessons.map(lesson => (\r\n                                            <li key={lesson.id} className=\"flex justify-between items-center p-2 hover:bg-gray-50 dark:hover:bg-zinc-900 rounded\">\r\n                                                <div className=\"flex items-center gap-2\">\r\n                                                    <span className=\"text-sm text-gray-500\"></span>\r\n                                                    <span className=\"text-sm\">{lesson.title}</span>\r\n                                                </div>\r\n                                                <Link href={`/admin/courses/${course.id}/modules/${module.id}/lessons/${lesson.id}`}>\r\n                                                    <span className=\"text-xs text-indigo-600 hover:underline\">Editar</span>\r\n                                                </Link>\r\n                                            </li>\r\n                                        ))}\r\n                                    </ul>\r\n                                    <div className=\"mt-3 pt-3 border-t border-gray-100 dark:border-zinc-800\">\r\n                                        <Link href={`/admin/courses/${course.id}/modules/${module.id}/lessons/new`} className=\"text-sm text-gray-500 hover:text-indigo-600 flex items-center gap-1\">\r\n                                            <span>+ A帽adir Lecci贸n</span>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[1]}